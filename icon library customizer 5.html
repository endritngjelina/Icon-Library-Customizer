<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IconCraft Pro - Professional Icon Library</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #FF6B35;
            --primary-dark: #E55A2B;
            --secondary: #2196F3;
            --accent: #9C27B0;
            --dark: #1a1a1a;
            --dark-lighter: #2d2d2d;
            --light: #f5f5f5;
            --white: #ffffff;
            --border: #e0e0e0;
            --shadow: 0 4px 20px rgba(0,0,0,0.1);
            --shadow-hover: 0 8px 40px rgba(0,0,0,0.15);
            --gradient: linear-gradient(135deg, #FF6B35 0%, #F7931E 100%);
            --text-primary: #333;
            --text-secondary: #666;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: var(--text-primary);
        }

        .app-container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
        }

        .header {
            background: var(--white);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: var(--shadow);
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: var(--gradient);
        }

        .header h1 {
            font-size: 2.5rem;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            color: var(--text-secondary);
            font-size: 1.1rem;
        }

        .main-layout {
            display: grid;
            grid-template-columns: 350px 1fr 400px;
            gap: 30px;
            height: calc(100vh - 200px);
        }

        .sidebar {
            background: var(--white);
            border-radius: 20px;
            padding: 30px;
            box-shadow: var(--shadow);
            overflow-y: auto;
        }

        .content-area {
            background: var(--white);
            border-radius: 20px;
            padding: 30px;
            box-shadow: var(--shadow);
            overflow-y: auto;
        }

        .customization-panel {
            background: var(--white);
            border-radius: 20px;
            padding: 30px;
            box-shadow: var(--shadow);
            overflow-y: auto;
        }

        .section-title {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-title::before {
            content: '';
            width: 4px;
            height: 20px;
            background: var(--gradient);
            border-radius: 2px;
        }

        .search-box {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid var(--border);
            border-radius: 12px;
            font-size: 1rem;
            margin-bottom: 25px;
            transition: all 0.3s ease;
            background: var(--light);
        }

        .search-box:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(255, 107, 53, 0.1);
            background: var(--white);
        }

        .category-filters {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 25px;
        }

        .filter-chip {
            padding: 8px 16px;
            background: var(--light);
            border: none;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            white-space: nowrap;
        }

        .filter-chip:hover {
            background: var(--primary);
            color: var(--white);
            transform: translateY(-2px);
        }

        .filter-chip.active {
            background: var(--gradient);
            color: var(--white);
            box-shadow: var(--shadow);
        }

        .icons-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
            gap: 20px;
            padding: 20px 0;
        }

        .icon-item {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--light);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            border: 3px solid transparent;
        }

        .icon-item:hover {
            background: var(--white);
            box-shadow: var(--shadow);
            transform: translateY(-5px);
        }

        .icon-item.selected {
            border-color: var(--primary);
            background: var(--white);
            box-shadow: var(--shadow-hover);
            transform: translateY(-5px);
        }

        .icon-item svg {
            width: 32px;
            height: 32px;
            transition: all 0.3s ease;
        }

        .icon-item:hover svg {
            transform: scale(1.1);
        }

        .control-group {
            margin-bottom: 25px;
        }

        .control-label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--text-primary);
        }

        .style-options {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }

        .style-btn {
            padding: 12px;
            border: 2px solid var(--border);
            background: var(--white);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            font-size: 0.9rem;
        }

        .style-btn:hover {
            border-color: var(--primary);
            background: rgba(255, 107, 53, 0.1);
        }

        .style-btn.active {
            border-color: var(--primary);
            background: var(--primary);
            color: var(--white);
        }

        .slider-container {
            margin-bottom: 20px;
        }

        .slider {
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: var(--border);
            outline: none;
            appearance: none;
            margin: 10px 0;
        }

        .slider::-webkit-slider-thumb {
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--gradient);
            cursor: pointer;
            box-shadow: var(--shadow);
        }

        .slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--gradient);
            cursor: pointer;
            border: none;
            box-shadow: var(--shadow);
        }

        .color-input {
            width: 100%;
            height: 50px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            margin-bottom: 10px;
        }

        .preview-area {
            background: var(--light);
            border-radius: 15px;
            padding: 40px;
            text-align: center;
            margin-bottom: 25px;
            min-height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .preview-icon {
            width: 120px;
            height: 120px;
            transition: all 0.3s ease;
        }

        .preview-backgrounds {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-bottom: 25px;
        }

        .bg-option {
            aspect-ratio: 1;
            border-radius: 8px;
            cursor: pointer;
            border: 3px solid transparent;
            transition: all 0.3s ease;
        }

        .bg-option:hover {
            transform: scale(1.1);
            box-shadow: var(--shadow);
        }

        .bg-option.active {
            border-color: var(--primary);
        }

        .bg-white { background: var(--white); }
        .bg-dark { background: var(--dark); }
        .bg-gradient { background: var(--gradient); }
        .bg-pattern { 
            background: 
                radial-gradient(circle at 2px 2px, rgba(255,255,255,.2) 1px, transparent 0);
            background-size: 20px 20px;
            background-color: var(--secondary);
        }

        .action-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 25px;
        }

        .btn {
            padding: 15px 25px;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .btn-primary {
            background: var(--gradient);
            color: var(--white);
            box-shadow: var(--shadow);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-hover);
        }

        .btn-secondary {
            background: var(--white);
            color: var(--text-primary);
            border: 2px solid var(--border);
        }

        .btn-secondary:hover {
            border-color: var(--primary);
            background: rgba(255, 107, 53, 0.1);
        }

        .batch-actions {
            border-top: 2px solid var(--border);
            padding-top: 25px;
            margin-top: 25px;
        }

        .batch-info {
            background: rgba(255, 107, 53, 0.1);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .size-presets {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }

        .size-preset {
            padding: 8px 12px;
            background: var(--light);
            border: 2px solid transparent;
            border-radius: 8px;
            cursor: pointer;
            text-align: center;
            font-size: 0.8rem;
            transition: all 0.3s ease;
        }

        .size-preset:hover {
            border-color: var(--primary);
            background: var(--white);
        }

        .size-preset.active {
            border-color: var(--primary);
            background: var(--primary);
            color: var(--white);
        }

        .stats-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 10px;
            margin-bottom: 20px;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .loading {
            opacity: 0.6;
            pointer-events: none;
        }

        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--gradient);
            color: var(--white);
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: var(--shadow-hover);
            transform: translateX(400px);
            transition: transform 0.3s ease;
            z-index: 1000;
        }

        .toast.show {
            transform: translateX(0);
        }

        @media (max-width: 1200px) {
            .main-layout {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .icons-grid {
                grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));
                gap: 15px;
            }
        }

        .export-options {
            margin-bottom: 20px;
        }

        .format-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 15px;
        }

        .format-option {
            padding: 10px;
            background: var(--light);
            border: 2px solid transparent;
            border-radius: 8px;
            cursor: pointer;
            text-align: center;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .format-option:hover {
            border-color: var(--primary);
            background: var(--white);
        }

        .format-option.active {
            border-color: var(--primary);
            background: var(--primary);
            color: var(--white);
        }

        .custom-colors {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            margin-bottom: 15px;
        }

        .color-swatch {
            aspect-ratio: 1;
            border-radius: 8px;
            cursor: pointer;
            border: 3px solid transparent;
            transition: all 0.3s ease;
        }

        .color-swatch:hover {
            transform: scale(1.1);
            box-shadow: var(--shadow);
        }

        .color-swatch.active {
            border-color: var(--dark);
            transform: scale(1.1);
        }

        .history-panel {
            border-top: 2px solid var(--border);
            padding-top: 20px;
            margin-top: 20px;
        }

        .history-items {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(40px, 1fr));
            gap: 10px;
        }

        .history-item {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--light);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .history-item:hover {
            background: var(--white);
            box-shadow: var(--shadow);
            transform: translateY(-2px);
        }

        .history-item svg {
            width: 24px;
            height: 24px;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <header class="header">
            <h1>IconCraft Pro</h1>
            <p>Professional icon customization suite for designers and developers</p>
        </header>

        <main class="main-layout">
            <!-- Sidebar -->
            <aside class="sidebar">
                <div class="section-title">Browse Icons</div>
                
                <input type="text" class="search-box" placeholder="Search icons..." id="searchInput">
                
                <div class="stats-bar">
                    <span id="iconCount">128 icons</span>
                    <span id="selectedCount">0 selected</span>
                </div>

                <div class="category-filters" id="categoryFilters">
                    <button class="filter-chip active" data-category="all">All</button>
                    <button class="filter-chip" data-category="interface">Interface</button>
                    <button class="filter-chip" data-category="communication">Communication</button>
                    <button class="filter-chip" data-category="media">Media</button>
                    <button class="filter-chip" data-category="business">Business</button>
                    <button class="filter-chip" data-category="social">Social</button>
                </div>
            </aside>

            <!-- Content Area -->
            <section class="content-area">
                <div class="section-title">Icon Library</div>
                <div class="icons-grid" id="iconsGrid">
                    <!-- Icons will be generated here -->
                </div>
            </section>

            <!-- Customization Panel -->
            <aside class="customization-panel">
                <div class="section-title">Customize</div>
                
                <div class="preview-area" id="previewArea">
                    <div class="preview-icon" id="previewIcon">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                        </svg>
                    </div>
                </div>

                <div class="preview-backgrounds">
                    <div class="bg-option bg-white active" data-bg="white"></div>
                    <div class="bg-option bg-dark" data-bg="dark"></div>
                    <div class="bg-option bg-gradient" data-bg="gradient"></div>
                    <div class="bg-option bg-pattern" data-bg="pattern"></div>
                </div>

                <div class="control-group">
                    <label class="control-label">Style</label>
                    <div class="style-options">
                        <button class="style-btn active" data-style="filled">Filled</button>
                        <button class="style-btn" data-style="outlined">Outlined</button>
                        <button class="style-btn" data-style="rounded">Rounded</button>
                    </div>
                </div>

                <div class="control-group">
                    <label class="control-label">Stroke Width: <span id="strokeValue">2</span>px</label>
                    <input type="range" class="slider" id="strokeSlider" min="1" max="6" value="2" step="0.5">
                </div>

                <div class="control-group">
                    <label class="control-label">Size: <span id="sizeValue">24</span>px</label>
                    <div class="size-presets">
                        <button class="size-preset" data-size="16">16px</button>
                        <button class="size-preset active" data-size="24">24px</button>
                        <button class="size-preset" data-size="32">32px</button>
                        <button class="size-preset" data-size="64">64px</button>
                    </div>
                    <input type="range" class="slider" id="sizeSlider" min="16" max="128" value="24" step="8">
                </div>

                <div class="control-group">
                    <label class="control-label">Primary Color</label>
                    <input type="color" class="color-input" id="primaryColor" value="#FF6B35">
                    <div class="custom-colors">
                        <div class="color-swatch active" style="background: #FF6B35;" data-color="#FF6B35"></div>
                        <div class="color-swatch" style="background: #2196F3;" data-color="#2196F3"></div>
                        <div class="color-swatch" style="background: #4CAF50;" data-color="#4CAF50"></div>
                        <div class="color-swatch" style="background: #9C27B0;" data-color="#9C27B0"></div>
                        <div class="color-swatch" style="background: #1a1a1a;" data-color="#1a1a1a"></div>
                    </div>
                </div>

                <div class="export-options">
                    <label class="control-label">Export Format</label>
                    <div class="format-grid">
                        <button class="format-option active" data-format="svg">SVG</button>
                        <button class="format-option" data-format="png">PNG</button>
                        <button class="format-option" data-format="pdf">PDF</button>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-primary" onclick="downloadIcon()">Download</button>
                    <button class="btn btn-secondary" onclick="copyToClipboard()">Copy SVG</button>
                </div>

                <div class="batch-actions">
                    <div class="batch-info">
                        <strong>Batch Export:</strong> Select multiple icons for bulk download
                    </div>
                    <button class="btn btn-secondary" onclick="downloadBatch()" style="width: 100%; margin-bottom: 10px;">
                        Download Selected (<span id="batchCount">0</span>)
                    </button>
                </div>

                <div class="history-panel">
                    <label class="control-label">Recent</label>
                    <div class="history-items" id="historyItems">
                        <!-- Recent icons will appear here -->
                    </div>
                </div>
            </aside>
        </main>
    </div>

    <div class="toast" id="toast">
        <span id="toastMessage"></span>
    </div>

    <script>
        // Icon data with professional icon collection
        const iconData = {
            interface: [
                { name: 'Home', path: 'M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z' },
                { name: 'Settings', path: 'M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z' },
                { name: 'Menu', path: 'M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z' },
                { name: 'Search', path: 'M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z' },
                { name: 'Close', path: 'M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z' },
                { name: 'Check', path: 'M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z' },
                { name: 'Add', path: 'M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z' },
                { name: 'Edit', path: 'M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z' },
                { name: 'Delete', path: 'M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z' },
                { name: 'Filter', path: 'M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z' }
            ],
            communication: [
                { name: 'Mail', path: 'M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z' },
                { name: 'Phone', path: 'M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z' },
                { name: 'Message', path: 'M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z' },
                { name: 'Video', path: 'M17 10.5V7c0-.55-.45-1-1-1H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h14c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z' },
                { name: 'Chat', path: 'M20 2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h4l4 4 4-4h4c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z' },
                { name: 'Notification', path: 'M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6.5-4.5c.83 0 1.5.67 1.5 1.5V12c0 .83-.67 1.5-1.5 1.5s-1.5-.67-1.5-1.5V9c0-.83.67-1.5 1.5-1.5zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z' },
                { name: 'Share', path: 'M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z' },
                { name: 'Send', path: 'M2.01 21L23 12 2.01 3 2 10l15 2-15 2z' }
            ],
            media: [
                { name: 'Play', path: 'M8 5v14l11-7z' },
                { name: 'Pause', path: 'M6 19h4V5H6v14zm8-14v14h4V5h-4z' },
                { name: 'Stop', path: 'M6 6h12v12H6z' },
                { name: 'Volume', path: 'M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z' },
                { name: 'Camera', path: 'M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z' },
                { name: 'Image', path: 'M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z' },
                { name: 'Music', path: 'M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z' },
                { name: 'Download', path: 'M19 9h-6v6h-2v-6H5v-2h6V5h2v6h6v2zM5 18v2h14v-2H5z' },
                { name: 'Upload', path: 'M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z' }
            ],
            business: [
                { name: 'Chart', path: 'M3.5 18.49l6-6.01 4 4L22 6.92l-1.41-1.41-7.09 7.97-4-4L2 16.99z' },
                { name: 'Calendar', path: 'M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z' },
                { name: 'Briefcase', path: 'M10 16V8c0-1.11.89-2 2-2s2 .89 2 2v8c0 1.11-.89 2-2 2s-2-.89-2-2zm10-8h-2.59l.58-.59L16.59 6 12 1.41 7.41 6 6 7.41l.59.59H4c-1.11 0-2 .89-2 2v10c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V10c0-1.11-.89-2-2-2z' },
                { name: 'Money', path: 'M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z' },
                { name: 'Building', path: 'M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z' },
                { name: 'Report', path: 'M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z' },
                { name: 'Team', path: 'M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm4 18v-6h2.5l-2.54-7.63A3.01 3.01 0 0 0 16.5 6H15c-.8 0-1.5.4-1.9 1.02L12 10l-1.1-2.98A2.01 2.01 0 0 0 9 6H7.5c-1.32 0-2.41 1.14-2.96 2.37L2 16.5V22h2v-6h2.5l1.5-3.5L9.5 15H12v7h2v-7h2.5l1.5-2.5L20 16h2z' },
                { name: 'Target', path: 'M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm0-14c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z' }
            ],
            social: [
                { name: 'Like', path: 'M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z' },
                { name: 'Star', path: 'M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z' },
                { name: 'Follow', path: 'M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z' },
                { name: 'Group', path: 'M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm2 2c-1.11 0-2 .89-2 2v6c0 1.11.89 2 2 2s2-.89 2-2V8c0-1.11-.89-2-2-2zM9 12c1.66 0 2.99-1.34 2.99-3S10.66 6 9 6C7.34 6 6 7.34 6 9s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-1.5c0-2.33-4.67-3.5-7-3.5z' },
                { name: 'Comment', path: 'M21.99 4c0-1.1-.89-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z' },
                { name: 'Bookmark', path: 'M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z' },
                { name: 'Trophy', path: 'M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6.5-4.5c.83 0 1.5.67 1.5 1.5V12c0 .83-.67 1.5-1.5 1.5s-1.5-.67-1.5-1.5V9c0-.83.67-1.5 1.5-1.5zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z' },
                { name: 'Gift', path: 'M20 6h-2.18c.11-.31.18-.65.18-1a2.996 2.996 0 0 0-5.5-1.65l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-2 .89-2 2v2c0 1.11.89 2 2 2h1v9c0 1.11.89 2 2 2h10c1.11 0 2-.89 2-2v-9h1c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1z' }
            ]
        };

        // Application state
        let currentIcon = null;
        let selectedIcons = new Set();
        let currentCategory = 'all';
        let currentStyle = 'filled';
        let currentStroke = 2;
        let currentSize = 24;
        let currentColor = '#FF6B35';
        let currentFormat = 'svg';
        let previewBackground = 'white';
        let iconHistory = [];

        // Initialize the application
        function init() {
            renderIcons();
            setupEventListeners();
            updatePreview();
            updateStats();
            updatePreviewBackground();
        }

        // Setup all event listeners
        function setupEventListeners() {
            // Search functionality
            document.getElementById('searchInput').addEventListener('input', handleSearch);
            
            // Category filters
            document.getElementById('categoryFilters').addEventListener('click', handleCategoryFilter);
            
            // Icon selection
            document.getElementById('iconsGrid').addEventListener('click', handleIconSelection);
            
            // Style controls
            document.querySelectorAll('.style-btn').forEach(btn => {
                btn.addEventListener('click', handleStyleChange);
            });
            
            // Sliders
            document.getElementById('strokeSlider').addEventListener('input', handleStrokeChange);
            document.getElementById('sizeSlider').addEventListener('input', handleSizeChange);
            
            // Color controls
            document.getElementById('primaryColor').addEventListener('input', handleColorChange);
            document.querySelectorAll('.color-swatch').forEach(swatch => {
                swatch.addEventListener('click', handleColorSwatchClick);
            });
            
            // Size presets
            document.querySelectorAll('.size-preset').forEach(preset => {
                preset.addEventListener('click', handleSizePreset);
            });
            
            // Format selection
            document.querySelectorAll('.format-option').forEach(option => {
                option.addEventListener('click', handleFormatChange);
            });
            
            // Background selection
            document.querySelectorAll('.bg-option').forEach(option => {
                option.addEventListener('click', handleBackgroundChange);
            });
        }

        // Render icons in the grid
        function renderIcons() {
            const grid = document.getElementById('iconsGrid');
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            
            grid.innerHTML = '';
            
            let allIcons = [];
            if (currentCategory === 'all') {
                Object.values(iconData).forEach(category => {
                    allIcons = allIcons.concat(category);
                });
            } else {
                allIcons = iconData[currentCategory] || [];
            }
            
            const filteredIcons = allIcons.filter(icon => 
                icon.name.toLowerCase().includes(searchTerm)
            );
            
            filteredIcons.forEach((icon, index) => {
                const iconElement = document.createElement('div');
                iconElement.className = 'icon-item';
                iconElement.dataset.iconName = icon.name;
                iconElement.dataset.iconPath = icon.path;
                iconElement.innerHTML = `
                    <svg viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="0">
                        <path d="${icon.path}"/>
                    </svg>
                `;
                iconElement.title = icon.name;
                
                // Check if this icon is selected
                if (selectedIcons.has(icon.name)) {
                    iconElement.classList.add('selected');
                }
                
                grid.appendChild(iconElement);
            });
            
            updateStats();
        }

        // Handle search input
        function handleSearch(e) {
            renderIcons();
        }

        // Handle category filter changes
        function handleCategoryFilter(e) {
            if (e.target.classList.contains('filter-chip')) {
                document.querySelectorAll('.filter-chip').forEach(chip => 
                    chip.classList.remove('active')
                );
                e.target.classList.add('active');
                currentCategory = e.target.dataset.category;
                renderIcons();
            }
        }

        // Handle icon selection
        function handleIconSelection(e) {
            const iconItem = e.target.closest('.icon-item');
            if (!iconItem) return;
            
            const iconName = iconItem.dataset.iconName;
            const isSelected = iconItem.classList.contains('selected');
            
            if (e.ctrlKey || e.metaKey) {
                // Multi-select mode
                if (isSelected) {
                    iconItem.classList.remove('selected');
                    selectedIcons.delete(iconName);
                } else {
                    iconItem.classList.add('selected');
                    selectedIcons.add(iconName);
                }
            } else {
                // Single select mode
                document.querySelectorAll('.icon-item').forEach(item => 
                    item.classList.remove('selected')
                );
                selectedIcons.clear();
                
                iconItem.classList.add('selected');
                selectedIcons.add(iconName);
                
                // Set as current icon for preview
                const allIcons = [...iconData.interface, ...iconData.communication, 
                                 ...iconData.media, ...iconData.business, ...iconData.social];
                currentIcon = allIcons.find(icon => icon.name === iconName);
                
                updatePreview();
                addToHistory(currentIcon);
            }
            
            updateStats();
        }

        // Handle style changes
        function handleStyleChange(e) {
            document.querySelectorAll('.style-btn').forEach(btn => 
                btn.classList.remove('active')
            );
            e.target.classList.add('active');
            currentStyle = e.target.dataset.style;
            updatePreview();
        }

        // Handle stroke width changes
        function handleStrokeChange(e) {
            currentStroke = parseFloat(e.target.value);
            document.getElementById('strokeValue').textContent = currentStroke;
            updatePreview();
        }

        // Handle size changes
        function handleSizeChange(e) {
            currentSize = parseInt(e.target.value);
            document.getElementById('sizeValue').textContent = currentSize;
            updatePreview();
        }

        // Handle color changes
        function handleColorChange(e) {
            currentColor = e.target.value;
            updatePreview();
            updateColorSwatches();
        }

        // Handle color swatch clicks
        function handleColorSwatchClick(e) {
            document.querySelectorAll('.color-swatch').forEach(swatch => 
                swatch.classList.remove('active')
            );
            e.target.classList.add('active');
            currentColor = e.target.dataset.color;
            document.getElementById('primaryColor').value = currentColor;
            updatePreview();
        }

        // Handle size preset clicks
        function handleSizePreset(e) {
            document.querySelectorAll('.size-preset').forEach(preset => 
                preset.classList.remove('active')
            );
            e.target.classList.add('active');
            currentSize = parseInt(e.target.dataset.size);
            document.getElementById('sizeSlider').value = currentSize;
            document.getElementById('sizeValue').textContent = currentSize;
            updatePreview();
        }

        // Handle format changes
        function handleFormatChange(e) {
            document.querySelectorAll('.format-option').forEach(option => 
                option.classList.remove('active')
            );
            e.target.classList.add('active');
            currentFormat = e.target.dataset.format;
        }

        // Handle background changes
        function handleBackgroundChange(e) {
            document.querySelectorAll('.bg-option').forEach(option => 
                option.classList.remove('active')
            );
            e.target.classList.add('active');
            previewBackground = e.target.dataset.bg;
            updatePreviewBackground();
        }

        // Update the preview
        function updatePreview() {
            const previewIcon = document.getElementById('previewIcon');
            if (!currentIcon) return;
            
            let fill = 'none';
            let stroke = currentColor;
            let strokeWidth = currentStroke;
            let strokeLinecap = 'round';
            let strokeLinejoin = 'round';
            
            if (currentStyle === 'filled') {
                fill = currentColor;
                stroke = 'none';
                strokeWidth = 0;
            } else if (currentStyle === 'outlined') {
                fill = 'none';
                stroke = currentColor;
                strokeWidth = currentStroke;
                strokeLinecap = 'butt';
                strokeLinejoin = 'miter';
            } else if (currentStyle === 'rounded') {
                fill = 'none';
                stroke = currentColor;
                strokeWidth = currentStroke;
            }
            
            previewIcon.innerHTML = `
                <svg viewBox="0 0 24 24" fill="${fill}" stroke="${stroke}" stroke-width="${strokeWidth}" stroke-linecap="${strokeLinecap}" stroke-linejoin="${strokeLinejoin}" style="width: ${currentSize * 3}px; height: ${currentSize * 3}px;">
                    <path d="${currentIcon.path}"/>
                </svg>
            `;
        }

        // Update preview background
        function updatePreviewBackground() {
            const previewArea = document.getElementById('previewArea');
            previewArea.className = 'preview-area';
            
            switch(previewBackground) {
                case 'dark':
                    previewArea.style.background = 'var(--dark)';
                    break;
                case 'gradient':
                    previewArea.style.background = 'var(--gradient)';
                    break;
                case 'pattern':
                    previewArea.style.background = 'radial-gradient(circle at 2px 2px, rgba(255,255,255,.2) 1px, transparent 0)';
                    previewArea.style.backgroundSize = '20px 20px';
                    previewArea.style.backgroundColor = 'var(--secondary)';
                    break;
                default:
                    previewArea.style.background = 'var(--light)';
            }
        }

        // Update color swatches
        function updateColorSwatches() {
            document.querySelectorAll('.color-swatch').forEach(swatch => {
                swatch.classList.remove('active');
                if (swatch.dataset.color === currentColor) {
                    swatch.classList.add('active');
                }
            });
        }

        // Update statistics
        function updateStats() {
            const totalIcons = document.querySelectorAll('.icon-item').length;
            const selectedCount = selectedIcons.size;
            
            document.getElementById('iconCount').textContent = `${totalIcons} icons`;
            document.getElementById('selectedCount').textContent = `${selectedCount} selected`;
            document.getElementById('batchCount').textContent = selectedCount;
        }

        // Add icon to history
        function addToHistory(icon) {
            // Remove if already exists
            iconHistory = iconHistory.filter(h => h.name !== icon.name);
            // Add to beginning
            iconHistory.unshift(icon);
            // Keep only last 8
            iconHistory = iconHistory.slice(0, 8);
            
            updateHistoryDisplay();
        }

        // Update history display
        function updateHistoryDisplay() {
            const historyContainer = document.getElementById('historyItems');
            historyContainer.innerHTML = '';
            
            iconHistory.forEach(icon => {
                const historyItem = document.createElement('div');
                historyItem.className = 'history-item';
                historyItem.innerHTML = `
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="${icon.path}"/>
                    </svg>
                `;
                historyItem.addEventListener('click', () => {
                    currentIcon = icon;
                    updatePreview();
                });
                historyContainer.appendChild(historyItem);
            });
        }

        // Download current icon
        function downloadIcon() {
            if (!currentIcon) {
                showToast('Please select an icon first');
                return;
            }
            
            const svgContent = generateSVG(currentIcon);
            
            if (currentFormat === 'svg') {
                downloadSVG(svgContent, currentIcon.name);
            } else if (currentFormat === 'png') {
                downloadPNG(svgContent, currentIcon.name);
            } else if (currentFormat === 'pdf') {
                downloadPDF(svgContent, currentIcon.name);
            }
            
            showToast(`Downloaded ${currentIcon.name}.${currentFormat}`);
        }

        // Generate SVG content
        function generateSVG(icon) {
            let fill = 'none';
            let stroke = currentColor;
            let strokeWidth = currentStroke;
            let strokeLinecap = 'round';
            let strokeLinejoin = 'round';
            
            if (currentStyle === 'filled') {
                fill = currentColor;
                stroke = 'none';
                strokeWidth = 0;
            } else if (currentStyle === 'outlined') {
                fill = 'none';
                stroke = currentColor;
                strokeWidth = currentStroke;
                strokeLinecap = 'butt';
                strokeLinejoin = 'miter';
            } else if (currentStyle === 'rounded') {
                fill = 'none';
                stroke = currentColor;
                strokeWidth = currentStroke;
            }
            
            return `
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="${fill}" stroke="${stroke}" stroke-width="${strokeWidth}" stroke-linecap="${strokeLinecap}" stroke-linejoin="${strokeLinejoin}">
    <path d="${icon.path}"/>
</svg>
            `.trim();
        }

        // Download SVG file
        function downloadSVG(svgContent, name) {
            const blob = new Blob([svgContent], { type: 'image/svg+xml' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `${name}.svg`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        // Download PNG file
        function downloadPNG(svgContent, name) {
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            const size = currentSize * 4; // High resolution
            
            canvas.width = size;
            canvas.height = size;
            
            // Create an image from the SVG
            const img = new Image();
            const svgBlob = new Blob([svgContent], { type: 'image/svg+xml' });
            const url = URL.createObjectURL(svgBlob);
            
            img.onload = function() {
                ctx.fillStyle = 'transparent';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                ctx.drawImage(img, 0, 0, size, size);
                URL.revokeObjectURL(url);
                
                // Convert canvas to PNG and download
                const pngUrl = canvas.toDataURL('image/png');
                const a = document.createElement('a');
                a.href = pngUrl;
                a.download = `${name}.png`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
            };
            
            img.src = url;
        }

        // Download PDF file
        function downloadPDF(svgContent, name) {
            showToast('PDF export coming soon!');
        }

        // Copy SVG to clipboard
        function copyToClipboard() {
            if (!currentIcon) {
                showToast('Please select an icon first');
                return;
            }
            
            const svgContent = generateSVG(currentIcon);
            navigator.clipboard.writeText(svgContent)
                .then(() => {
                    showToast('SVG copied to clipboard!');
                })
                .catch(err => {
                    showToast('Failed to copy SVG');
                    console.error('Failed to copy: ', err);
                });
        }

        // Download batch of selected icons
        function downloadBatch() {
            if (selectedIcons.size === 0) {
                showToast('Please select icons to download');
                return;
            }
            
            // Get all icons from all categories
            const allIcons = [...iconData.interface, ...iconData.communication, 
                             ...iconData.media, ...iconData.business, ...iconData.social];
            
            // Download each selected icon
            selectedIcons.forEach(iconName => {
                const icon = allIcons.find(i => i.name === iconName);
                if (icon) {
                    const svgContent = generateSVG(icon);
                    downloadSVG(svgContent, icon.name);
                }
            });
            
            showToast(`Downloaded ${selectedIcons.size} icons`);
        }

        // Show toast notification
        function showToast(message) {
            const toast = document.getElementById('toast');
            const toastMessage = document.getElementById('toastMessage');
            
            toastMessage.textContent = message;
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // Initialize the app
        window.onload = init;
    </script>
</body>
</html>